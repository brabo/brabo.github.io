<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Frosted Userland: hardfault_debug.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Frosted Userland
   </div>
   <div id="projectbrief">FreeOSforTinyEmbeddedDevices-Userland</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hardfault_debug.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a861b11df7f481fc4fb906473eee31771"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a861b11df7f481fc4fb906473eee31771">HardFault_HandlerC</a> (unsigned long *hardfault_args)</td></tr>
<tr class="separator:a861b11df7f481fc4fb906473eee31771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2804a023941a956288c32ad08b2cf59e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a2804a023941a956288c32ad08b2cf59e">__attribute__</a> ((naked))</td></tr>
<tr class="separator:a2804a023941a956288c32ad08b2cf59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa4a8029d895f5859f64dc279a3a57d34"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#aa4a8029d895f5859f64dc279a3a57d34">stacked_r0</a></td></tr>
<tr class="separator:aa4a8029d895f5859f64dc279a3a57d34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1e54efcb27fecb57f017fbe82219f2"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a9a1e54efcb27fecb57f017fbe82219f2">stacked_r1</a></td></tr>
<tr class="separator:a9a1e54efcb27fecb57f017fbe82219f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72831b634b4fe56dcb6f1cfc958c133a"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a72831b634b4fe56dcb6f1cfc958c133a">stacked_r2</a></td></tr>
<tr class="separator:a72831b634b4fe56dcb6f1cfc958c133a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e11cb14213104bd8edfe282e4961cb"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a26e11cb14213104bd8edfe282e4961cb">stacked_r3</a></td></tr>
<tr class="separator:a26e11cb14213104bd8edfe282e4961cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03dc92ae56156f67be008f32dd0ca891"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a03dc92ae56156f67be008f32dd0ca891">stacked_r12</a></td></tr>
<tr class="separator:a03dc92ae56156f67be008f32dd0ca891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa9027e52dba2c2e4e45a0e4e9d5bee"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#abaa9027e52dba2c2e4e45a0e4e9d5bee">stacked_lr</a></td></tr>
<tr class="separator:abaa9027e52dba2c2e4e45a0e4e9d5bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1db6cc3e101279ab2bba5cf125ef85e"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#aa1db6cc3e101279ab2bba5cf125ef85e">stacked_pc</a></td></tr>
<tr class="separator:aa1db6cc3e101279ab2bba5cf125ef85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5992554864b9ad2376f0df4efc1f2e"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a5c5992554864b9ad2376f0df4efc1f2e">stacked_psr</a></td></tr>
<tr class="separator:a5c5992554864b9ad2376f0df4efc1f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae347e424a6f4a2764f5ca0221d1b42ea"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#ae347e424a6f4a2764f5ca0221d1b42ea">_CFSR</a></td></tr>
<tr class="separator:ae347e424a6f4a2764f5ca0221d1b42ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ab1d7e12cc616490c9b6d812bca516"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a13ab1d7e12cc616490c9b6d812bca516">_HFSR</a></td></tr>
<tr class="separator:a13ab1d7e12cc616490c9b6d812bca516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c29196bbb78964851b7234ed654f02"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a85c29196bbb78964851b7234ed654f02">_DFSR</a></td></tr>
<tr class="separator:a85c29196bbb78964851b7234ed654f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e562cc24c5d723216bcbeaf2edfa25"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a30e562cc24c5d723216bcbeaf2edfa25">_AFSR</a></td></tr>
<tr class="separator:a30e562cc24c5d723216bcbeaf2edfa25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5664db47990522d223e4e7679b34201"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#ae5664db47990522d223e4e7679b34201">_BFAR</a></td></tr>
<tr class="separator:ae5664db47990522d223e4e7679b34201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7883e97fe42ccd3a3449a4997f552cff"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hardfault__debug_8c.html#a7883e97fe42ccd3a3449a4997f552cff">_MMAR</a></td></tr>
<tr class="separator:a7883e97fe42ccd3a3449a4997f552cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2804a023941a956288c32ad08b2cf59e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__attribute__ </td>
          <td>(</td>
          <td class="paramtype">(naked)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a861b11df7f481fc4fb906473eee31771"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardFault_HandlerC </td>
          <td>(</td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>hardfault_args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HardFault_HandlerAsm: Alternative Hard Fault handler to help debug the reason for a fault. To use, edit the vector table to reference this function in the HardFault vector This code is suitable for Cortex-M3 and Cortex-M0 cores </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a30e562cc24c5d723216bcbeaf2edfa25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long _AFSR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae5664db47990522d223e4e7679b34201"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long _BFAR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae347e424a6f4a2764f5ca0221d1b42ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long _CFSR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a85c29196bbb78964851b7234ed654f02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long _DFSR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a13ab1d7e12cc616490c9b6d812bca516"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long _HFSR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7883e97fe42ccd3a3449a4997f552cff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long _MMAR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abaa9027e52dba2c2e4e45a0e4e9d5bee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long stacked_lr</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa1db6cc3e101279ab2bba5cf125ef85e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long stacked_pc</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5c5992554864b9ad2376f0df4efc1f2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long stacked_psr</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa4a8029d895f5859f64dc279a3a57d34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long stacked_r0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>HardFaultHandler_C: This is called from the HardFault_HandlerAsm with a pointer the Fault stack as the parameter. We can then read the values from the stack and place them into local variables for ease of reading. We then read the various Fault Status and Address Registers to help decode cause of the fault. The function ends with a BKPT instruction to force control back into the debugger </p>

</div>
</div>
<a class="anchor" id="a9a1e54efcb27fecb57f017fbe82219f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long stacked_r1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a03dc92ae56156f67be008f32dd0ca891"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long stacked_r12</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a72831b634b4fe56dcb6f1cfc958c133a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long stacked_r2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a26e11cb14213104bd8edfe282e4961cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long stacked_r3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
